# åç«¯å®ç°å¿«é€Ÿå‚è€ƒ

## ğŸ“‹ æ ¸å¿ƒæ•°æ®è¡¨ï¼ˆ6ä¸ªï¼‰

| è¡¨å | è¯´æ˜ | å…³é”®å­—æ®µ | ç”¨é€” |
|------|------|--------|------|
| **users** | ç”¨æˆ· | id, username, email, password_hash | ç”¨æˆ·è®¤è¯ã€èµ„æ–™ |
| **items** | å•†å“ | id, seller_id, title, price, **stock** | å•†å“ç®¡ç†ã€åº“å­˜ |
| **orders** | è®¢å• | id, buyer_id, total_amount, status | è®¢å•è®°å½• |
| **order_items** | è®¢å•æ˜ç»† | order_id, item_id, quantity, price_at_purchase | è®¢å•è¯¦æƒ… |
| **addresses** | é…é€åœ°å€ | user_id, detail, is_default | åœ°å€ç®¡ç† |
| **reviews** | è¯„ä»· | item_id, reviewer_id, rating, content | ç”¨æˆ·è¯„ä»· |

---

## ğŸ”‘ å…³é”®APIæ¥å£ï¼ˆ18ä¸ªï¼‰

### ç”¨æˆ·æ¨¡å—ï¼ˆ8ä¸ªï¼‰
```
POST   /api/auth/register              æ³¨å†Œç”¨æˆ·
POST   /api/auth/login                 ç™»å½•
POST   /api/auth/logout                ç™»å‡º
GET    /api/users/current              è·å–å½“å‰ç”¨æˆ·
GET    /api/users/{userId}/profile     è·å–ç”¨æˆ·èµ„æ–™
PUT    /api/users/profile              æ›´æ–°èµ„æ–™
GET    /api/users/check-username       æ£€æŸ¥ç”¨æˆ·å
GET    /api/users/check-email          æ£€æŸ¥é‚®ç®±
```

### å•†å“æ¨¡å—ï¼ˆ8ä¸ªï¼‰
```
POST   /api/items                      å‘å¸ƒå•†å“
GET    /api/items/featured             é¦–é¡µæ¨è
GET    /api/items/search               æœç´¢å•†å“
GET    /api/items/category/{cat}       åˆ†ç±»æµè§ˆ
GET    /api/items/{itemId}             å•†å“è¯¦æƒ…
PUT    /api/items/{itemId}             æ›´æ–°å•†å“
DELETE /api/items/{itemId}             åˆ é™¤å•†å“
POST   /api/items/check-stock          æ£€æŸ¥åº“å­˜
```

### è´­ç‰©è½¦æ¨¡å—ï¼ˆ5ä¸ªï¼‰
```
GET    /api/cart                       è·å–è´­ç‰©è½¦
POST   /api/cart/add                   æ·»åŠ å•†å“
PUT    /api/cart/{itemId}              ä¿®æ”¹æ•°é‡
DELETE /api/cart/{itemId}              åˆ é™¤å•†å“
DELETE /api/cart                       æ¸…ç©ºè´­ç‰©è½¦
```

### è®¢å•æ¨¡å—ï¼ˆ8ä¸ªï¼‰
```
POST   /api/orders                     åˆ›å»ºè®¢å• â­
GET    /api/orders                     è®¢å•åˆ—è¡¨
GET    /api/orders/{orderId}           è®¢å•è¯¦æƒ…
PUT    /api/orders/{orderId}/status    æ›´æ–°çŠ¶æ€
DELETE /api/orders/{orderId}           å–æ¶ˆè®¢å•
GET    /api/addresses                  åœ°å€åˆ—è¡¨
POST   /api/addresses                  æ·»åŠ åœ°å€
PUT    /api/addresses/{addressId}      æ›´æ–°åœ°å€
```

---

## âš¡ å…³é”®å¤æ‚åº¦

### æœ€å¤æ‚ï¼šè®¢å•åˆ›å»ºï¼ˆéœ€äº‹åŠ¡å¤„ç†ï¼‰
```python
with db.engine.begin() as connection:
    # 1. é”å®šåº“å­˜è¡Œ
    connection.execute("SELECT stock FROM items WHERE id = ? FOR UPDATE")
    
    # 2. æ£€æŸ¥åº“å­˜å……è¶³
    if stock < quantity: raise Exception()
    
    # 3. æ‰£å‡åº“å­˜
    connection.execute("UPDATE items SET stock = stock - ?")
    
    # 4. åˆ›å»ºè®¢å•
    order = Order(...)
    
    # 5. è‡ªåŠ¨COMMITæˆ–ROLLBACK
```

### æ¬¡å¤æ‚ï¼šæœç´¢ä¸åˆ†ç±»
```python
# éå¤§å°å†™æ•æ„Ÿæœç´¢
SELECT * FROM items 
WHERE LOWER(title) LIKE LOWER(:query) 
  AND category = :category 
  AND price BETWEEN :min AND :max
ORDER BY created_at DESC
LIMIT :limit OFFSET :offset
```

### æ¬¡å¤æ‚ï¼šå¯†ç å®‰å…¨å­˜å‚¨
```python
from bcrypt import hashpw, checkpw
password_hash = hashpw(password.encode(), gensalt(rounds=12))
checkpw(password.encode(), stored_hash)
```

---

## ğŸ“¦ å·¥ç¨‹é‡ä¼°ç®—

| é˜¶æ®µ | ä»»åŠ¡ | å·¥ç¨‹é‡ | ä¼˜å…ˆçº§ |
|------|------|--------|--------|
| 1 | æ•°æ®åº“ + ORM | 1.5å¤© | P0 |
| 2 | ç”¨æˆ·è®¤è¯ | 2å¤© | P0 |
| 3 | å•†å“ç®¡ç† | 2.5å¤© | P0 |
| 4 | è´­ç‰©è½¦ | 1.5å¤© | P1 |
| 5 | **è®¢å•ä¸äº‹åŠ¡** | **3å¤©** | **P0** |
| 6 | æµ‹è¯•ä¸ä¼˜åŒ– | 2å¤© | P1 |
| **æ€»è®¡** | | **12.5å¤©** | |

---

## ğŸ› ï¸ å¼€å‘å·¥å…·é“¾

### å¿…éœ€ä¾èµ–
```
Flask==2.3.3
Flask-SQLAlchemy==3.0.5
Flask-JWT-Extended==4.5.3
bcrypt==4.1.1
PyMySQL==1.1.0
```

### å¼€å‘è¾…åŠ©
```bash
# æµ‹è¯•
pytest pytest-cov

# è°ƒè¯•
Flask debug toolbar

# æ€§èƒ½
Flask-Caching Redis

# æ–‡æ¡£
Flask-RESTX
```

---

## âœ… å®ç°æ£€æŸ¥æ¸…å•

### åŸºç¡€è®¾æ–½
- [ ] MySQL æ•°æ®åº“åˆ›å»º
- [ ] SQLAlchemy ORM æ¨¡å‹å®šä¹‰
- [ ] ç»Ÿä¸€å“åº”æ ¼å¼å‡½æ•°
- [ ] å…¨å±€é”™è¯¯å¤„ç†
- [ ] æ•°æ®æ ¡éªŒå·¥å…·

### ç”¨æˆ·è®¤è¯ï¼ˆP0ï¼‰
- [ ] ç”¨æˆ·æ³¨å†Œæ¥å£ï¼ˆé‚®ç®±æ ¡éªŒï¼‰
- [ ] ç”¨æˆ·ç™»å½•æ¥å£ï¼ˆJWT Tokenï¼‰
- [ ] å¯†ç å®‰å…¨å­˜å‚¨ï¼ˆbcryptï¼‰
- [ ] TokenéªŒè¯ä¸­é—´ä»¶
- [ ] ç”¨æˆ·ä¿¡æ¯è·å–

### å•†å“ç®¡ç†ï¼ˆP0ï¼‰
- [ ] å‘å¸ƒå•†å“æ¥å£
- [ ] å•†å“æœç´¢ï¼ˆéå¤§å°å†™æ•æ„Ÿï¼‰
- [ ] åˆ†ç±»æµè§ˆ
- [ ] å•†å“è¯¦æƒ…
- [ ] åº“å­˜ç®¡ç†
- [ ] æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–

### è´­ç‰©è½¦ï¼ˆP1ï¼‰
- [ ] Session ç®¡ç†
- [ ] è´­ç‰©è½¦CRUD
- [ ] åº“å­˜å®æ—¶éªŒè¯ï¼ˆä¸æŒä¹…åŒ–ï¼‰

### è®¢å•ä¸ç»“è´¦ï¼ˆP0ï¼‰â­
- [ ] è®¢å•åˆ›å»ºï¼ˆäº‹åŠ¡å¤„ç†ï¼‰
- [ ] åº“å­˜æ‰£å‡ï¼ˆè¡Œçº§é”ï¼‰
- [ ] è®¢å•æŸ¥è¯¢
- [ ] è®¢å•å–æ¶ˆï¼ˆåº“å­˜å›æ»šï¼‰
- [ ] é…é€åœ°å€ç®¡ç†
- [ ] å¹¶å‘æµ‹è¯•

### æµ‹è¯•ä¸ä¼˜åŒ–
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] å‹åŠ›æµ‹è¯•ï¼ˆå¹¶å‘ä¸‹å•ï¼‰
- [ ] SQLæŸ¥è¯¢ä¼˜åŒ–
- [ ] åŠ å¯†å’Œå®‰å…¨å®¡è®¡

---

## ğŸ”’ å®‰å…¨æ£€æŸ¥æ¸…å•

- [ ] å¯†ç ä½¿ç”¨bcryptåŠ å¯†ï¼Œæ°¸ä¸æ˜æ–‡å­˜å‚¨
- [ ] æ‰€æœ‰è¾“å…¥è¿›è¡ŒSQLæ³¨å…¥é˜²æŠ¤ï¼ˆä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼‰
- [ ] APIæ¥å£ä½¿ç”¨JWTè®¤è¯
- [ ] æƒé™æ£€æŸ¥ï¼ˆç”¨æˆ·åªèƒ½æ“ä½œè‡ªå·±çš„æ•°æ®ï¼‰
- [ ] æ•°æ®åº“äº‹åŠ¡ä¿è¯ACIDç‰¹æ€§
- [ ] æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€Tokenï¼‰ä¸åœ¨æ—¥å¿—ä¸­è¾“å‡º
- [ ] ä½¿ç”¨HTTPSï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- [ ] CORSé…ç½®æ­£ç¡®

---

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹

### æ³¨å†Œ
```bash
POST /api/auth/register
{
  "username": "testuser",
  "email": "test@seu.edu.cn",
  "password": "TestPass123"
}
```

### ç™»å½•
```bash
POST /api/auth/login
{
  "username": "testuser",
  "password": "TestPass123"
}
# è¿”å›ï¼š{"token": "eyJ..."}
```

### æœç´¢å•†å“
```bash
GET /api/items/search?query=æ•™æ&category=books&page=1&limit=12
```

### åˆ›å»ºè®¢å•ï¼ˆå…³é”®æµ‹è¯•ï¼‰
```bash
POST /api/orders
{
  "items": [
    {"item_id": 1, "quantity": 2},
    {"item_id": 2, "quantity": 1}
  ],
  "address_id": 1
}
# éœ€éªŒè¯ï¼šåº“å­˜è¶³å¤Ÿ â†’ åˆ›å»ºæˆåŠŸ âœ…
# éœ€éªŒè¯ï¼šåº“å­˜ä¸è¶³ â†’ åˆ›å»ºå¤±è´¥ âœ…
# éœ€éªŒè¯ï¼šå¹¶å‘ä¸‹å•æ—¶åº“å­˜ä¸å†²çª âœ…
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨æ­¥éª¤

### 1. åˆ›å»ºæ•°æ®åº“
```bash
mysql -u root -p seu_trading < database/schema.sql
mysql -u root -p seu_trading < database/seed_data.sql
```

### 2. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 3. åˆå§‹åŒ–åº”ç”¨
```bash
# åœ¨ run.py ä¸­åˆ›å»º Flask app
from app import create_app
app = create_app()
if __name__ == '__main__':
    app.run(debug=True)
```

### 4. å¯åŠ¨æœåŠ¡
```bash
python run.py
# è®¿é—® http://localhost:5000
```

### 5. æµ‹è¯•API
```bash
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"zhangsan","password":"Password123"}'
```

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- å‰ç«¯è®¾è®¡: [å‰ç«¯è®¾è®¡.md](å‰ç«¯è®¾è®¡.md)
- å‰ç«¯API: [FRONTEND_API_DOCS.md](FRONTEND_API_DOCS.md)
- åç«¯åˆ†æ: [åç«¯å®ç°åˆ†æ.md](åç«¯å®ç°åˆ†æ.md)
- å¼€å‘æŒ‡å—: [åç«¯å¼€å‘æŒ‡å—.md](åç«¯å¼€å‘æŒ‡å—.md)

---

## ğŸ’¡ å¸¸è§é—®é¢˜

**Q: è´­ç‰©è½¦æ•°æ®å­˜åœ¨å“ªé‡Œï¼Ÿ**
A: Flask Sessionï¼ˆå†…å­˜ï¼‰ï¼Œæ–­å¼€è¿æ¥æˆ–æµè§ˆå™¨å…³é—­æ—¶æ¸…ç©ºã€‚ä¸å­˜å‚¨åœ¨æ•°æ®åº“ã€‚

**Q: å¦‚ä½•å¤„ç†å¹¶å‘ä¸‹å•çš„åº“å­˜å†²çªï¼Ÿ**
A: ä½¿ç”¨ `SELECT FOR UPDATE` è¡Œçº§é”ä¿è¯åŸå­æ€§ã€‚

**Q: å¦‚ä½•æ¢å¤å–æ¶ˆè®¢å•çš„åº“å­˜ï¼Ÿ**
A: åœ¨å–æ¶ˆè®¢å•æ—¶ï¼Œä½¿ç”¨äº‹åŠ¡å°†åº“å­˜åŠ å›ã€‚

**Q: æœç´¢åŠŸèƒ½å¦‚ä½•å®ç°éå¤§å°å†™æ•æ„Ÿï¼Ÿ**
A: ä½¿ç”¨ `LOWER()` å‡½æ•°æˆ–åœ¨åˆ›å»ºè¡¨æ—¶æŒ‡å®š `COLLATE utf8mb4_unicode_ci`ã€‚

**Q: å¦‚ä½•éªŒè¯ @seu.edu.cn é‚®ç®±ï¼Ÿ**
A: æ­£åˆ™è¡¨è¾¾å¼ `/^[a-zA-Z0-9._-]+@seu\.edu\.cn$/`

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024-12-24  
**ç»´æŠ¤è€…**: åç«¯å¼€å‘å›¢é˜Ÿ

åç«¯ç”¨æˆ·ä¸å•†å“æ¨¡å—apiæµ‹è¯•
APIæµ‹è¯•æ—¥å¿— - å¼€å§‹æ—¶é—´: 2025-12-31 00:34:47.409560
æµ‹è¯•åœ°å€: http://127.0.0.1:5000
==================================================
å¼€å§‹è¿è¡ŒAPIæµ‹è¯•...

==================================================
1. æµ‹è¯•ç”¨æˆ·æ³¨å†Œæ¥å£
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:47.683613
è¯·æ±‚: POST http://127.0.0.1:5000/api/user/register
è¯·æ±‚æ•°æ®: {
  "username": "testuser_py",
  "email": "testuser_py@seu.edu.cn",
  "password": "Test123456"
}
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "email": "testuser_py@seu.edu.cn",
    "userId": 4,
    "username": "testuser_py"
  },
  "message": "æ³¨å†ŒæˆåŠŸ",
  "timestamp": 1767112487
}

==================================================
2. æµ‹è¯•ç”¨æˆ·ç™»å½•æ¥å£
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:48.913639
è¯·æ±‚: POST http://127.0.0.1:5000/api/user/login
è¯·æ±‚æ•°æ®: {
  "username": "testuser_py",
  "password": "Test123456"
}
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0LCJleHAiOjE3Njc3MTcyODgsImlhdCI6MTc2NzExMjQ4OH0.mJXhCo8pt9UPbElWw_1YWjwaxVM3jdqYg0KbnMQpKSI",
    "user": {
      "avatar": "",
      "email": "testuser_py@seu.edu.cn",
      "id": 4,
      "rating": 5.0,
      "username": "testuser_py"
    }
  },
  "message": "ç™»å½•æˆåŠŸ",
  "timestamp": 1767112488
}
Tokenæå–æˆåŠŸ: eyJhbGciOiJIUzI1NiIs...
ç”¨æˆ·ID: 4

==================================================
3. æµ‹è¯•æ£€æŸ¥ç”¨æˆ·åå¯ç”¨æ€§
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:49.927222
è¯·æ±‚: GET http://127.0.0.1:5000/api/user/checkUsername/testuser_py
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "available": false
  },
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "timestamp": 1767112489
}
å“åº”æ—¶é—´: 2025-12-31 00:34:49.935847
è¯·æ±‚: GET http://127.0.0.1:5000/api/user/checkUsername/newuser_py
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "available": true
  },
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "timestamp": 1767112489
}

==================================================
4. æµ‹è¯•æ£€æŸ¥é‚®ç®±å¯ç”¨æ€§
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:50.449032
è¯·æ±‚: GET http://127.0.0.1:5000/api/user/checkEmail/testuser_py@seu.edu.cn
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "available": false
  },
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "timestamp": 1767112490
}
å“åº”æ—¶é—´: 2025-12-31 00:34:50.460040
è¯·æ±‚: GET http://127.0.0.1:5000/api/user/checkEmail/newuser_py@seu.edu.cn
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "available": true
  },
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "timestamp": 1767112490
}

==================================================
5. æµ‹è¯•è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:50.975499
è¯·æ±‚: GET http://127.0.0.1:5000/api/user/getCurrentUser
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "created_at": "2025-12-31T00:34:48",
    "email": "testuser_py@seu.edu.cn",
    "id": 4,
    "rating": 5.0,
    "stats": {
      "favorites": 0,
      "published": 0,
      "sold": 0
    },
    "username": "testuser_py"
  },
  "message": "è·å–æˆåŠŸ",
  "timestamp": 1767112490
}

==================================================
6. æµ‹è¯•è·å–ç”¨æˆ·å…¬å¼€èµ„æ–™
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:51.498888
è¯·æ±‚: GET http://127.0.0.1:5000/api/user/getUserProfile/1
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "avatar": "",
    "id": 1,
    "rating": 5.0,
    "stats": {
      "favorites": 0,
      "published": 1,
      "sold": 0
    },
    "username": "test_flask"
  },
  "message": "è·å–æˆåŠŸ",
  "timestamp": 1767112491
}

==================================================
7. æµ‹è¯•è·å–é¦–é¡µæ¨èå•†å“
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:52.012490
è¯·æ±‚: POST http://127.0.0.1:5000/api/item/getFeatured
è¯·æ±‚æ•°æ®: {
  "limit": 5
}
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": [
    {
      "category": "electronics",
      "created_at": "2025-12-31T00:02:22",
      "description": "8æˆæ–°ï¼ŒåŠŸèƒ½æ­£å¸¸",
      "id": 1,
      "image": "",
      "price": 2999.0,
      "seller_id": 1,
      "seller_name": "test_flask",
      "seller_rating": 5.0,
      "stock": 0,
      "title": "äºŒæ‰‹ç¬”è®°æœ¬ç”µè„‘",
      "views": 1
    }
  ],
  "message": "è·å–æˆåŠŸ",
  "timestamp": 1767112492
}

==================================================
8. æµ‹è¯•æœç´¢å•†å“
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:52.531134
è¯·æ±‚: POST http://127.0.0.1:5000/api/item/search
è¯·æ±‚æ•°æ®: {
  "query": "ç¬”è®°æœ¬",
  "type": "title",
  "page": 1,
  "limit": 10,
  "sort": "latest"
}
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "items": [
      {
        "category": "electronics",
        "created_at": "2025-12-31T00:02:22",
        "description": "8æˆæ–°ï¼ŒåŠŸèƒ½æ­£å¸¸",
        "id": 1,
        "image": "",
        "price": 2999.0,
        "seller_id": 1,
        "seller_name": "test_flask",
        "seller_rating": 5.0,
        "stock": 0,
        "title": "äºŒæ‰‹ç¬”è®°æœ¬ç”µè„‘",
        "views": 1
      }
    ],
    "pagination": {
      "current_page": 1,
      "page_size": 10,
      "total_items": 1,
      "total_pages": 1
    }
  },
  "message": "æœç´¢æˆåŠŸ",
  "timestamp": 1767112492
}

==================================================
9. æµ‹è¯•å‘å¸ƒæ–°å•†å“
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:53.056856
è¯·æ±‚: POST http://127.0.0.1:5000/api/item/create
è¯·æ±‚æ•°æ®: {
  "title": "Pythonæµ‹è¯•å•†å“",
  "description": "è¿™æ˜¯ä½¿ç”¨Pythonè„šæœ¬æµ‹è¯•å‘å¸ƒçš„å•†å“",
  "price": 1999.99,
  "stock": 10,
  "category": "electronics",
  "images": [
    "https://example.com/test.jpg"
  ]
}
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "category": "electronics",
    "created_at": "2025-12-31T00:34:53",
    "description": "è¿™æ˜¯ä½¿ç”¨Pythonè„šæœ¬æµ‹è¯•å‘å¸ƒçš„å•†å“",
    "favorites": 0,
    "id": 2,
    "image": "https://example.com/test.jpg",
    "images": [
      "https://example.com/test.jpg"
    ],
    "price": 1999.99,
    "seller_email": "testuser_py@seu.edu.cn",
    "seller_id": 4,
    "seller_name": "testuser_py",
    "seller_rating": 5.0,
    "seller_verified": true,
    "stock": 10,
    "title": "Pythonæµ‹è¯•å•†å“",
    "views": 0
  },
  "message": "å‘å¸ƒæˆåŠŸ",
  "timestamp": 1767112493
}
å•†å“ID: 2

==================================================
10. æµ‹è¯•è·å–å•†å“è¯¦æƒ…
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:54.080445
è¯·æ±‚: GET http://127.0.0.1:5000/api/item/getDetail/2
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "category": "electronics",
    "created_at": "2025-12-31T00:34:53",
    "description": "è¿™æ˜¯ä½¿ç”¨Pythonè„šæœ¬æµ‹è¯•å‘å¸ƒçš„å•†å“",
    "favorites": 0,
    "id": 2,
    "image": "https://example.com/test.jpg",
    "images": [
      "https://example.com/test.jpg"
    ],
    "price": 1999.99,
    "seller_email": "testuser_py@seu.edu.cn",
    "seller_id": 4,
    "seller_name": "testuser_py",
    "seller_rating": 5.0,
    "seller_verified": true,
    "stock": 10,
    "title": "Pythonæµ‹è¯•å•†å“",
    "views": 1
  },
  "message": "è·å–æˆåŠŸ",
  "timestamp": 1767112494
}

==================================================
11. æµ‹è¯•æ›´æ–°å•†å“ä¿¡æ¯
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:54.608266
è¯·æ±‚: POST http://127.0.0.1:5000/api/item/update/2
è¯·æ±‚æ•°æ®: {
  "title": "Pythonæµ‹è¯•å•†å“ï¼ˆå·²æ›´æ–°ï¼‰",
  "price": 1899.99,
  "description": "è¿™æ˜¯æ›´æ–°åçš„å•†å“æè¿°"
}
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "category": "electronics",
    "created_at": "2025-12-31T00:34:53",
    "description": "è¿™æ˜¯æ›´æ–°åçš„å•†å“æè¿°",
    "favorites": 0,
    "id": 2,
    "image": "https://example.com/test.jpg",
    "images": [
      "https://example.com/test.jpg"
    ],
    "price": 1899.99,
    "seller_email": "testuser_py@seu.edu.cn",
    "seller_id": 4,
    "seller_name": "testuser_py",
    "seller_rating": 5.0,
    "seller_verified": true,
    "stock": 10,
    "title": "Pythonæµ‹è¯•å•†å“ï¼ˆå·²æ›´æ–°ï¼‰",
    "views": 2
  },
  "message": "æ›´æ–°æˆåŠŸ",
  "timestamp": 1767112494
}

==================================================
12. æµ‹è¯•æ‰¹é‡æ£€æŸ¥åº“å­˜
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:29:07
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {
    "items": [
      {
        "available": false,
        "itemId": 1,
        "stock": 0
      },
      {
        "available": false,
        "itemId": 2,
        "stock": 0
      },
      {
        "available": false,
        "itemId": 999,
        "stock": 0
      }
    ],
    "valid": false
  },
  "message": "\u68c0\u67e5\u6210\u529f",
  "timestamp": 1767112147
}


==================================================
13. æµ‹è¯•ç”¨æˆ·ç™»å‡º
==================================================
å“åº”æ—¶é—´: 2025-12-31 00:34:55.634112
è¯·æ±‚: POST http://127.0.0.1:5000/api/user/logout
çŠ¶æ€ç : 200
å“åº”å†…å®¹:
{
  "code": 0,
  "data": {},
  "message": "ç™»å‡ºæˆåŠŸ",
  "timestamp": 1767112495
}

==================================================
æµ‹è¯•å®Œæˆ
==================================================
è¯¦ç»†æ—¥å¿—å·²ä¿å­˜åˆ°: api_test_results_20251231_003447.log

âœ… æ‰€æœ‰æµ‹è¯•å®Œæˆï¼
ğŸ“„ è¯¦ç»†æ—¥å¿—: api_test_results_20251231_003447.log